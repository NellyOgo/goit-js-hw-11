{"mappings":"AAAA,MAEMA,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cACrCE,EAAeL,SAASG,cAAc,iBAE5C,IAAIG,EAAc,EACdC,EAAc,GAalBC,eAAeC,IACb,MAAMC,EAAM,qEAA6CH,kEAA4ED,gBAErI,IACE,MAAMK,QAAiBC,MAAMF,GACvBG,QAAaF,EAASG,OAExBD,EAAKE,KAAKC,OAAS,GAmB3B,SAAsBC,GACpB,MAAMC,EAAWlB,SAASmB,yBAE1BF,EAAOG,SAAQC,IACb,MAAMC,EAiBV,SAAyBD,GACvB,MAAMC,EAAOtB,SAASuB,cAAc,OACpCD,EAAKE,UAAY,aAEjB,MAAMC,EAAYzB,SAASuB,cAAc,KACzCE,EAAUC,KAAOL,EAAMM,cACvBF,EAAUG,aAAa,gBAAiB,SACxCN,EAAKO,YAAYJ,GAEjB,MAAMK,EAAM9B,SAASuB,cAAc,OACnCO,EAAIC,IAAMV,EAAMW,aAChBF,EAAIG,IAAMZ,EAAMa,KAChBJ,EAAIK,QAAU,OACdV,EAAUI,YAAYC,GAEtB,MAAMM,EAAOpC,SAASuB,cAAc,OACpCa,EAAKZ,UAAY,OACjBF,EAAKO,YAAYO,GAEjB,MAAMC,EAAQC,EAAe,QAASjB,EAAMgB,OAC5CD,EAAKP,YAAYQ,GAEjB,MAAME,EAAQD,EAAe,QAASjB,EAAMkB,OAC5CH,EAAKP,YAAYU,GAEjB,MAAMC,EAAWF,EAAe,WAAYjB,EAAMmB,UAClDJ,EAAKP,YAAYW,GAEjB,MAAMC,EAAYH,EAAe,YAAajB,EAAMoB,WAGpD,OAFAL,EAAKP,YAAYY,GAEVnB,C,CAhDQoB,CAAgBrB,GAC7BH,EAASW,YAAYP,EAAK,IAG5BpB,EAAQ2B,YAAYX,GAEH,IAAIyB,eAAe,aAAc,CAChDC,aAAc,MACdC,gBAAiB,SACjBC,aAAc,IACdC,gBAAgB,EAChBC,SAAS,IAGFC,S,CApCLC,CAAarC,EAAKE,MAqFtBX,EAAY+C,MAAMC,QAAU,QAnFxBC,EAAiB,oBAAoBxC,EAAKyC,qBA+FhD,WACE,MAAQC,OAAQC,GAAexD,SAC5BG,cAAc,YACdsD,kBAAkBC,wBAErBC,OAAOC,SAAS,CACdC,IAAkB,EAAbL,EACLM,SAAU,U,CArGRC,IAEAV,EAAiB,4EAGfxC,EAAKyC,WAA2B,GAAdhD,IAiFxBF,EAAY+C,MAAMC,QAAU,OA/ExBC,EAAiB,8D,CAEnB,MAAOW,GACPC,QAAQC,IAAIF,GACZX,EAAiB,mE,EA2DrB,SAASf,EAAe6B,EAAOC,GAC7B,MAAMC,EAAOrE,SAASuB,cAAc,KAGpC,OAFA8C,EAAK7C,UAAY,YACjB6C,EAAKC,UAAY,MAAMH,UAAcC,IAC9BC,C,CA+BT,SAAShB,EAAiBkB,GACxBlE,EAAamE,YAAcD,EAC3BlE,EAAa8C,MAAMC,QAAU,QAC7BqB,YAAW,KACTpE,EAAa8C,MAAMC,QAAU,MAAM,GAClC,I,CApILrD,EAAK2E,iBAAiB,UAGtB,SAA0BC,GACxBA,EAAMC,iBACNrE,EAAcoE,EAAME,OAAOC,YAAYV,MAAMW,OAC7CzE,EAAc,EA8FdJ,EAAQoE,UAAY,GA5FpB7D,G,IAPFL,EAAYsE,iBAAiB,SA8G7B,WACEpE,IACAG,G","sources":["src/index.js"],"sourcesContent":["const API_KEY = '38183263-7b55f24cf30c776edf1c7da27';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst notification = document.querySelector('.notification');\n\nlet currentPage = 1;\nlet searchQuery = '';\n\nform.addEventListener('submit', handleFormSubmit);\nloadMoreBtn.addEventListener('click', loadMoreImages);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  searchQuery = event.target.searchQuery.value.trim();\n  currentPage = 1;\n  clearGallery();\n  searchImages();\n}\n\nasync function searchImages() {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${currentPage}&per_page=40`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (data.hits.length > 0) {\n      renderImages(data.hits);\n      showLoadMoreBtn();\n      showNotification(`Hooray! We found ${data.totalHits} images.`);\n      scrollToNextGroup();\n    } else {\n      showNotification('Sorry, there are no images matching your search query. Please try again.');\n    }\n\n    if (data.totalHits <= currentPage * 40) {\n      hideLoadMoreBtn();\n      showNotification(\"We're sorry, but you've reached the end of search results.\");\n    }\n  } catch (error) {\n    console.log(error);\n    showNotification('An error occurred while fetching images. Please try again later.');\n  }\n}\n\nfunction renderImages(images) {\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(image => {\n    const card = createImageCard(image);\n    fragment.appendChild(card);\n  });\n\n  gallery.appendChild(fragment);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    animationSlide: false,\n    history: false\n  });\n\n  lightbox.refresh();\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.className = 'photo-card';\n\n  const imageLink = document.createElement('a');\n  imageLink.href = image.largeImageURL;\n  imageLink.setAttribute('data-lightbox', 'image');\n  card.appendChild(imageLink);\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.loading = 'lazy';\n  imageLink.appendChild(img);\n\n  const info = document.createElement('div');\n  info.className = 'info';\n  card.appendChild(info);\n\n  const likes = createInfoItem('Likes', image.likes);\n  info.appendChild(likes);\n\n  const views = createInfoItem('Views', image.views);\n  info.appendChild(views);\n\n  const comments = createInfoItem('Comments', image.comments);\n  info.appendChild(comments);\n\n  const downloads = createInfoItem('Downloads', image.downloads);\n  info.appendChild(downloads);\n\n  return card;\n}\n\nfunction createInfoItem(label, value) {\n  const item = document.createElement('p');\n  item.className = 'info-item';\n  item.innerHTML = `<b>${label}:</b> ${value}`;\n  return item;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoadMoreBtn() {\n  loadMoreBtn.style.display = 'block';\n}\n\nfunction hideLoadMoreBtn() {\n  loadMoreBtn.style.display = 'none';\n}\n\nfunction loadMoreImages() {\n  currentPage++;\n  searchImages();\n}\n\nfunction scrollToNextGroup() {\n  const { height: cardHeight } = document\n    .querySelector(\".gallery\")\n    .firstElementChild.getBoundingClientRect();\n\n  window.scrollBy({\n    top: cardHeight * 2,\n    behavior: \"smooth\",\n  });\n}\n\nfunction showNotification(message) {\n  notification.textContent = message;\n  notification.style.display = 'block';\n  setTimeout(() => {\n    notification.style.display = 'none';\n  }, 3000);\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$notification","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$searchQuery","async","$1f0dc3b9307be026$var$searchImages","url","response","fetch","data","json","hits","length","images","fragment","createDocumentFragment","forEach","image","card","createElement","className","imageLink","href","largeImageURL","setAttribute","appendChild","img","src","webformatURL","alt","tags","loading","info","likes","$1f0dc3b9307be026$var$createInfoItem","views","comments","downloads","$1f0dc3b9307be026$var$createImageCard","SimpleLightbox","captionsData","captionPosition","captionDelay","animationSlide","history","refresh","$1f0dc3b9307be026$var$renderImages","style","display","$1f0dc3b9307be026$var$showNotification","totalHits","height","cardHeight","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior","$1f0dc3b9307be026$var$scrollToNextGroup","error","console","log","label","value","item","innerHTML","message","textContent","setTimeout","addEventListener","event","preventDefault","target","searchQuery","trim"],"version":3,"file":"index.22e8136f.js.map"}